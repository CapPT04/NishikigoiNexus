"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[618],{618:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(43),l=a(39),n=a(568),i=a(216),d=a(475),c=a(463),r=a(579);const o=()=>{const e=(0,i.Zp)(),[s]=(0,d.ok)(),[a,o]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[u,x]=(0,t.useState)(0),[b,j]=(0,t.useState)(""),[p,N]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[w,g]=(0,t.useState)([]),f=["Processing","Paying","Approved","Denied"];return(0,t.useEffect)((()=>{(async()=>{try{const e=s.get("id"),a=await(0,c.gt)(e);o(a.data);const t=await(0,c.gt)(a.data.createBy);h(t.data);const l=await(0,c.xC)();for(let s=0;s<l.data.$values.length;s++)l.data.$values[s].createBy===parseInt(a.data.userId)&&g((e=>[...e,l.data.$values[s]]))}catch(e){throw e}})()}),[]),(0,t.useEffect)((()=>{b.length>0?N(!0):N(!1)}),[b,p]),(0,t.useEffect)((()=>{2===a.status?y(!0):y(!1)}),[v,a.status]),(0,r.jsxs)("div",{className:"breeder-detail-container",children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsx)(l.A,{})}),(0,r.jsxs)("div",{className:"body-content",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("div",{className:"body-content-right",children:(0,r.jsxs)("div",{className:"breeder-detail-content",children:[(0,r.jsx)("div",{className:"breeder-detail-content-row1",children:(0,r.jsxs)("div",{className:"status",children:["Status: ",["Active","Inactive"][a.status-1]]})}),(0,r.jsx)("div",{className:"breeder-detail-content-row2",children:"Breeder Infomation"}),(0,r.jsxs)("div",{className:"breeder-detail-content-row3",children:["Join date: ",new Date(a.createDate).toLocaleString()]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row4",children:[(0,r.jsxs)("div",{className:"create-by",children:[(0,r.jsx)("label",{htmlFor:"create-by-input",className:"create-by-label",children:"Create By"}),(0,r.jsx)("input",{type:"text",className:"create-by-input",value:m?m.firstName+" "+m.lastName:"",disabled:!0})]}),(0,r.jsxs)("div",{className:"last-update",children:[" ",(0,r.jsx)("label",{htmlFor:"last-update-input",className:"last-update-label",children:"Last Update"}),(0,r.jsx)("input",{type:"datetime",className:"last-update-input",value:a.updateDate?new Date(a.updateDate).toLocaleString():"Not updated yet",disabled:!0})]})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row5",children:[(0,r.jsxs)("div",{className:"email",children:[(0,r.jsx)("label",{htmlFor:"email-input",className:"email-label",children:"Email"}),(0,r.jsx)("input",{type:"text",className:"email-input",value:a.email,disabled:!0})]}),(0,r.jsxs)("div",{className:"phone",children:[" ",(0,r.jsx)("label",{htmlFor:"phone-input",className:"phone-label",children:"Phone"}),(0,r.jsx)("input",{type:"text",className:"phone-input",value:a.phone,disabled:!0})]})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row6",children:[(0,r.jsxs)("div",{className:"first-name",children:[(0,r.jsx)("label",{htmlFor:"first-name-input",className:"first-name-label",children:"First Name"}),(0,r.jsx)("input",{type:"text",className:"first-name-input",value:a.firstName,disabled:!0})]}),(0,r.jsxs)("div",{className:"last-name",children:[" ",(0,r.jsx)("label",{htmlFor:"last-name-input",className:"last-name-label",children:"Last Name"}),(0,r.jsx)("input",{type:"text",className:"last-name-input",value:a.lastName,disabled:!0})]})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row7",children:[(0,r.jsxs)("div",{className:"city",children:[(0,r.jsx)("label",{htmlFor:"city-input",className:"city-label",children:"City"}),(0,r.jsx)("input",{type:"text",className:"city-input",value:a.city,disabled:!0})]}),(0,r.jsxs)("div",{className:"commission",children:[(0,r.jsx)("label",{htmlFor:"commission-input",className:"commission-label",children:"Commission"}),(0,r.jsx)("input",{type:"text",className:"commission-input",placeholder:`${a.commission} %`,onChange:e=>x(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row8",children:[(0,r.jsx)("label",{htmlFor:"address-input",className:"address-label",children:"Address"}),(0,r.jsx)("input",{type:"text",className:"address-input",value:a.address,disabled:!0})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row11",children:[(0,r.jsx)("button",{className:"update-btn",onClick:async()=>{const e=sessionStorage.getItem("token");200===(await(0,c.uV)(e,a.userId,u)).status&&window.location.reload()},children:"Update"}),(0,r.jsx)("button",{className:"cancel-btn",onClick:()=>window.location.reload(),children:"Cancel"})]}),(0,r.jsx)("div",{className:"breeder-detail-content-row9",children:(0,r.jsx)("div",{className:"ban-unban",children:"Ban / Unban"})}),(0,r.jsxs)("div",{className:"breeder-detail-content-row10",children:[(0,r.jsx)("label",{htmlFor:"reason-input",className:"reason-label",children:"Reason"}),(0,r.jsx)("input",{type:"text",className:"reason-input",placeholder:a.reason,onChange:e=>{j(e.target.value)},disabled:2===a.status})]}),(0,r.jsxs)("div",{className:"breeder-detail-content-row12",children:[(0,r.jsx)("button",{className:"ban-btn "+(p?"":"bannable"),disabled:!p,onClick:async()=>{const e=sessionStorage.getItem("token");200===(await(0,c.si)(e,a.userId,b)).status&&window.location.reload()},children:"Ban"}),(0,r.jsx)("button",{className:"unban-btn",disabled:!v,onClick:async()=>{const e=sessionStorage.getItem("token");200===(await(0,c.si)(e,a.userId,null)).status&&window.location.reload()},children:"Unban"})]}),(0,r.jsx)("div",{className:"breeder-detail-content-row13",children:(0,r.jsx)("div",{className:"request-history",children:"Request history"})}),(0,r.jsx)("div",{className:"breeder-detail-content-row14",children:(0,r.jsxs)("table",{className:"table-request-history",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"No."}),(0,r.jsx)("th",{children:"Create Date"}),(0,r.jsx)("th",{children:"Fish ID"}),(0,r.jsx)("th",{children:"Request Status"}),(0,r.jsx)("th",{children:"Details"})]})}),(0,r.jsx)("tbody",{children:w&&w.map(((s,a)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a+1}),(0,r.jsx)("td",{children:new Date(s.createDate).toLocaleString()}),(0,r.jsx)("td",{children:s.fishId}),(0,r.jsx)("td",{children:f[s.status-1]}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"details-btn",onClick:()=>e("/"),children:"Detail"})})]},a)))})]})})]})})]})]})}}}]);
//# sourceMappingURL=618.935d59fc.chunk.js.map