{"version":3,"file":"static/js/783.9dcb4c3c.chunk.js","mappings":"4KAKA,MA0DA,EA1DwBA,KACtB,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,IAAgBC,EAAAA,EAAAA,OAChBC,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,IACrCO,GAAWC,EAAAA,EAAAA,MAEXC,EAAaN,EAAaO,IAAI,cAC9BC,EAAgBR,EAAaO,IAAI,iBACjCE,EAAcT,EAAaO,IAAI,eAC/BG,EAAmBV,EAAaO,IAAI,oBAe1C,OARAI,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAO,CAAEN,aAAYE,gBAAeC,cAAaC,oBACjDG,EAAQL,EAAcK,MAAM,iBAClCV,EAAaU,EAAQA,EAAM,GAAK,MAChCC,QAAQC,IAAIb,GATMc,WAClB,MAAMC,QAAYC,EAAAA,EAAAA,IAAkBN,GAEpChB,EAAUqB,EAAI,EAOdE,CAAYP,GACZQ,YAAW,IAAMrB,GAAW,IAAQ,IAAK,GACxC,KAEDsB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,SACpBzB,GACC0B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,wBAC/BF,EAAAA,EAAAA,KAAA,OACEI,IAAI,wGACJC,IAAI,QAGY,MAAlB/B,EAAOgC,QACTH,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,wBAC/BF,EAAAA,EAAAA,KAAA,OACEI,IAAI,0KACJC,IAAI,KAELN,YAAW,IAAMhB,EAAS,qBAAqBF,MAAc,SAGhEsB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,SAAC,oBAC5BF,EAAAA,EAAAA,KAAA,OACEI,IAAI,kLACJC,IAAI,KAELN,YAAW,IAAMhB,EAAS,qBAAqBF,MAAc,SAG9D,C","sources":["components/common/PaymentResponse/PaymentResponse.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { handlePayCallBack } from \"../../../axios/UserService\";\r\nimport \"./PaymentResponse.scss\";\r\n\r\nconst PaymentResponse = () => {\r\n  const [result, setResult] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchParams] = useSearchParams();\r\n  const [requestId, setRequestId] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const vnp_Amount = searchParams.get(\"vnp_Amount\");\r\n  const vnp_OrderInfo = searchParams.get(\"vnp_OrderInfo\");\r\n  const vnp_PayDate = searchParams.get(\"vnp_PayDate\");\r\n  const vnp_ResponseCode = searchParams.get(\"vnp_ResponseCode\");\r\n\r\n  const PayCallBack = async (info) => {\r\n    const res = await handlePayCallBack(info);\r\n    // console.log(res);\r\n    setResult(res);\r\n  };\r\n  useEffect(() => {\r\n    const info = { vnp_Amount, vnp_OrderInfo, vnp_PayDate, vnp_ResponseCode };\r\n    const match = vnp_OrderInfo.match(/Request (\\d+)/);\r\n    setRequestId(match ? match[1] : null);\r\n    console.log(requestId);\r\n    PayCallBack(info);\r\n    setTimeout(() => setLoading(false), 5000);\r\n  }, []);\r\n  return (\r\n    <div className=\"screen\">\r\n      {loading ? (\r\n        <div className=\"waiting-screen\">\r\n          <div className=\"title-waiting\">Pending payment...</div>\r\n          <img\r\n            src=\"https://cdn.dribbble.com/users/2077073/screenshots/7103423/media/223825c7f91575b639fd71f3accff8f4.gif\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      ) : result.status === 200 ? (\r\n        <div className=\"success-screen\">\r\n          <div className=\"title-success\">Payment Successful</div>\r\n          <img\r\n            src=\"https://firebasestorage.googleapis.com/v0/b/nishikigoinexus-fa24.appspot.com/o/sp%2Ffree-check-icon-3278-thumb.png?alt=media&token=b040f1d3-b653-4108-8011-bb7f56bc7172\"\r\n            alt=\"\"\r\n          />\r\n          {setTimeout(() => navigate(`/DetailRequest?id=${requestId}`), 500)}\r\n        </div>\r\n      ) : (\r\n        <div className=\"fail-screen\">\r\n          <div className=\"title-fail\">Payment Failed</div>\r\n          <img\r\n            src=\"https://firebasestorage.googleapis.com/v0/b/nishikigoinexus-fa24.appspot.com/o/sp%2Fgui-check-no-icon-512x512-9qqp1ph5.png?alt=media&token=3dcb26f5-9be9-4005-bcbb-cbbcbc94734a\"\r\n            alt=\"\"\r\n          />\r\n          {setTimeout(() => navigate(`/DetailRequest?id=${requestId}`), 500)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentResponse;\r\n"],"names":["PaymentResponse","result","setResult","useState","loading","setLoading","searchParams","useSearchParams","requestId","setRequestId","navigate","useNavigate","vnp_Amount","get","vnp_OrderInfo","vnp_PayDate","vnp_ResponseCode","useEffect","info","match","console","log","async","res","handlePayCallBack","PayCallBack","setTimeout","_jsx","className","children","_jsxs","src","alt","status"],"sourceRoot":""}