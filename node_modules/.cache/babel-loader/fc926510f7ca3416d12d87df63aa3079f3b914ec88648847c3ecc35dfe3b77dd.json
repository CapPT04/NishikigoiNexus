{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../history/History.scss\";import Navbar from\"../../common/Navbar/Navbar\";import{handleGetAllRequest}from\"../../../axios/UserService\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const History=()=>{const[requests,setRequests]=useState([]);const user=JSON.parse(sessionStorage.getItem(\"user\"));const navigate=useNavigate();const statusName=[\"Processing\",\"Paying\",\"Approved\",\"Denied\"];const getRequests=async()=>{const res=await handleGetAllRequest();// console.log(user.UserID);\n// console.log(res.data.$values);\n// setRequests(res.data.$values);\nfor(let i=0;i<res.data.$values.length;i++){if(user){if(res.data.$values[i].createBy===parseInt(user.UserID,10)){// console.log(i);\nsetRequests(prev=>[...prev,res.data.$values[i]]);}}// console.log(res.data.$values[i]);\n// console.log(typeof user.UserID);\n// setRequests((prev) => [...prev, res.data.$values[i]]);\n}};useEffect(()=>{getRequests();},[]);// useEffect(() => {\n//   console.log(\"reuslt:\", requests);\n// });\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-bar-vertically-history\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"request selected\",onClick:()=>navigate(\"/Breeder/HistoryRequest\"),children:\"Request\"}),/*#__PURE__*/_jsx(\"a\",{className:\"koi\",onClick:()=>navigate(\"/Breeder/FishList\"),children:\"KOI\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-text\",children:\"Search:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-value\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-input\",placeholder:\"Search by Email and Phone number\",type:\"text\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../assets/images/search.svg\",alt:\"\"})})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-manage-request\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fish ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Create Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:requests&&requests.map((item,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),\" \",/*#__PURE__*/_jsx(\"td\",{children:item.requestId}),\" \",/*#__PURE__*/_jsx(\"td\",{children:item.fishId}),\" \",/*#__PURE__*/_jsx(\"td\",{children:new Date(item.createDate).toLocaleString()}),\" \",/*#__PURE__*/_jsx(\"td\",{children:statusName[item.status-1]}),\" \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:()=>navigate(`/Breeder/DetailRequest?id=${item.requestId}`),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-right\"})})})]},index);})})]})]})]})]});};export default History;","map":{"version":3,"names":["React","useEffect","useState","Navbar","handleGetAllRequest","useNavigate","jsx","_jsx","jsxs","_jsxs","History","requests","setRequests","user","JSON","parse","sessionStorage","getItem","navigate","statusName","getRequests","res","i","data","$values","length","createBy","parseInt","UserID","prev","children","className","onClick","placeholder","type","src","alt","map","item","index","requestId","fishId","Date","createDate","toLocaleString","status"],"sources":["D:/FU/FA24/SWP/NishikigoiNexus/src/components/breeder/history/History.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../history/History.scss\";\r\nimport Navbar from \"../../common/Navbar/Navbar\";\r\nimport { handleGetAllRequest } from \"../../../axios/UserService\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst History = () => {\r\n  const [requests, setRequests] = useState([]);\r\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n  const navigate = useNavigate();\r\n\r\n  const statusName = [\"Processing\", \"Paying\", \"Approved\", \"Denied\"];\r\n\r\n  const getRequests = async () => {\r\n    const res = await handleGetAllRequest();\r\n    // console.log(user.UserID);\r\n    // console.log(res.data.$values);\r\n    // setRequests(res.data.$values);\r\n    for (let i = 0; i < res.data.$values.length; i++) {\r\n      if (user) {\r\n        if (res.data.$values[i].createBy === parseInt(user.UserID, 10)) {\r\n          // console.log(i);\r\n          setRequests((prev) => [...prev, res.data.$values[i]]);\r\n        }\r\n      }\r\n      // console.log(res.data.$values[i]);\r\n      // console.log(typeof user.UserID);\r\n      // setRequests((prev) => [...prev, res.data.$values[i]]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRequests();\r\n  }, []);\r\n  // useEffect(() => {\r\n  //   console.log(\"reuslt:\", requests);\r\n  // });\r\n  return (\r\n    <div>\r\n      <div className=\"header\">\r\n        <Navbar></Navbar>\r\n      </div>\r\n      <div className=\"body-content\">\r\n        <div className=\"navigation-bar-vertically-history\">\r\n          {/* loi o day */}\r\n          <a\r\n            className=\"request selected\"\r\n            onClick={() => navigate(\"/Breeder/HistoryRequest\")}\r\n          >\r\n            Request\r\n          </a>\r\n          <a className=\"koi\" onClick={() => navigate(\"/Breeder/FishList\")}>\r\n            KOI\r\n          </a>\r\n        </div>\r\n        <div className=\"right-content\">\r\n          <div className=\"search\">\r\n            <div className=\"search-text\">Search:</div>\r\n            <div className=\"search-value\">\r\n              <input\r\n                className=\"search-input\"\r\n                placeholder=\"Search by Email and Phone number\"\r\n                type=\"text\"\r\n              />\r\n              <div className=\"search-icon\">\r\n                <img src=\"../assets/images/search.svg\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <table className=\"table-manage-request\">\r\n            <thead>\r\n              <tr>\r\n                <th>No</th>\r\n                <th>ID</th>\r\n                <th>Fish ID</th>\r\n                <th>Create Date</th>\r\n                <th>Status</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {requests &&\r\n                requests.map((item, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td>{index + 1}</td>{\" \"}\r\n                      {/* Replace static \"1\" with index + 1 */}\r\n                      <td>{item.requestId}</td>{\" \"}\r\n                      {/* Assuming the item has an 'id' field */}\r\n                      <td>{item.fishId}</td>{\" \"}\r\n                      {/* Assuming the item has a 'fishId' field */}\r\n                      <td>{new Date(item.createDate).toLocaleString()}</td>{\" \"}\r\n                      {/* Assuming the item has a 'createDate' field */}\r\n                      <td>{statusName[item.status - 1]}</td>{\" \"}\r\n                      {/* Assuming the item has a 'status' field */}\r\n                      <td>\r\n                        <a\r\n                          onClick={() =>\r\n                            navigate(\r\n                              `/Breeder/DetailRequest?id=${item.requestId}`\r\n                            )\r\n                          }\r\n                        >\r\n                          <i className=\"fa-solid fa-arrow-right\"></i>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}