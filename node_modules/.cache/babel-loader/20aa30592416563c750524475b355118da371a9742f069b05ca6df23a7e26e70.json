{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import\"../request/Request.scss\";import{getDownloadURL,listAll,ref,uploadBytes}from\"firebase/storage\";import{v4}from\"uuid\";import{imageDB}from\"../../../upload/ConfigUpload\";import{handleFeeApi,handleSubmitRequest}from\"../../../axios/UserService\";import{useNavigate}from\"react-router-dom\";import Navbar from\"../../common/Navbar/Navbar\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Request=()=>{const[name,setName]=useState(\"\");const[shape,setShape]=useState(\"\");const[age,setAge]=useState(0);const[weight,setWeight]=useState(0);const[size,setSize]=useState(0);const[origin,setOrigin]=useState(\"\");const[pondAddress,setPondAddress]=useState(\"\");const[city,setCity]=useState(\"\");const[gender,setGender]=useState({value:0});const[image,setImage]=useState([]);const[note,setNote]=useState(\"\");const[auctionMethod,setAuctionMethod]=useState(1);const[date,setDate]=useState(\"\");const[startPrice,setStartPrice]=useState(0);const[maxPrice,setMaxPrice]=useState(0);const[stepPrice,setStepPrice]=useState(0);const[currentStep,setCurrentStep]=useState(0);const[fee,setFee]=useState(\"\");const[btnReady,setBtnReady]=useState(true);const navigate=useNavigate();//----------- upload anh----------\nconst[img,setImg]=useState(\"\");const fileInputRef=useRef(null);const handleUpload=async file=>{if(!file){console.error(\"No file selected for upload.\");return;}try{const imgRef=ref(imageDB,`KoiImages/${v4()}`);const snapshot=await uploadBytes(imgRef,file);const url=await getDownloadURL(snapshot.ref);setImage(prevUrls=>[...prevUrls,url]);}catch(error){console.error(\"Error uploading file:\",error);}finally{if(fileInputRef.current){fileInputRef.current.value=null;}}};const handleFileChange=e=>{const selectedFile=e.target.files[0];if(selectedFile){handleUpload(selectedFile);}};const handleButtonClick=e=>{if(image[e]){image.splice(e,1);}if(fileInputRef.current){fileInputRef.current.click();}};//-----get fee--------\nuseEffect(()=>{const getFee=async()=>{try{const response=await handleFeeApi();// console.log(response.data);\nsetFee(response.data);// console.log(\"done\");\n}catch(error){console.log(error);}};getFee();},[]);//--------\nconst steps=[{title:\"Fish Details\",subtitle:\"Enter information about Fish\"},{title:\"Auction Method\",subtitle:\"Choose the auction method\"},{title:\"Auction Detail\",subtitle:\"Provide auction details\"},{title:\"Preview\",subtitle:\"Preview your request\"}];const methodDexcription=[{title:\"Fixed Price\",subtitle:\"Buyer pays a fixed price\"},{title:\"Hidden Auction\",subtitle:\"Buyer pays the hidden price\"},{title:\"Public Auction\",subtitle:\"Buyer pays the highest price\"},{title:\"Descending price auction\",subtitle:\"Buyer pays the price\"}];const filedsets=[{title:\"Fish Details\",content:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fishName\",placeholder:\"Fish Name\",onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Shape\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishShape\",placeholder:\"Fish Shape\",onChange:e=>setShape(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishAge\",placeholder:\"Fish Age\",onChange:e=>setAge(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Weight\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishWeight\",placeholder:\"Fish Weight\",onChange:e=>setWeight(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Size\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishSize\",placeholder:\"Fish Size\",onChange:e=>setSize(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Origin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishOrigin\",placeholder:\"Fish Origin\",onChange:e=>setOrigin(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fond Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FondArrdess\",placeholder:\"Fond Arrdess\",onChange:e=>setPondAddress(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishCity\",placeholder:\"Fish City\",onChange:e=>setCity(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 gender-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender\",children:\"Gender:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"female\",checked:gender.value===2,className:\"gender-option\",onChange:()=>setGender({value:2})}),/*#__PURE__*/_jsx(\"div\",{children:\"Female\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",value:\"male\",checked:gender.value===1,className:\"gender-option\",onChange:()=>setGender({value:1})}),/*#__PURE__*/_jsx(\"div\",{children:\"Male\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,ref:fileInputRef,style:{display:\"none\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",onClick:e=>handleButtonClick(0),children:image[0]?/*#__PURE__*/_jsx(\"img\",{src:image[0],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",onClick:e=>handleButtonClick(1),children:image[1]?/*#__PURE__*/_jsx(\"img\",{src:image[1],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",onClick:e=>handleButtonClick(2),children:image[2]?/*#__PURE__*/_jsx(\"img\",{src:image[2],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",onClick:e=>handleButtonClick(3),children:image[3]?/*#__PURE__*/_jsx(\"img\",{src:image[3],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})})]})]})},{title:\"Auction Method\",content:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fieldInput\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"auctionMethod\",className:\"auctionMethod\",onChange:e=>setAuctionMethod(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Fixed Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Hidden Auction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Public Auction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Descending Auction\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:methodDexcription.map((item,index)=>/*#__PURE__*/_jsxs(\"h4\",{style:{display:index===auctionMethod-1?\"block\":\"none\"},children:[\" \",item.subtitle,\" \"]},index))})]})},{title:\"Auction Detail\",content:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fieldInput\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Auction Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"autionDate\",onChange:e=>setDate(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fieldInput\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:auctionMethod===\"1\"?\"Fixed Price\":\"Min Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"auctionPrice\",placeholder:\"XXXXXXX\",onChange:e=>setStartPrice(e.target.value),className:\"input-price\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fieldInput\",style:{display:auctionMethod===\"3\"||auctionMethod===\"4\"?\"\":\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Max Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"auctionPrice\",placeholder:\"XXXXXXX\",onChange:e=>setMaxPrice(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fieldInput\",style:{display:auctionMethod===\"3\"?\"\":\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Increment Step\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"incrementStep\",placeholder:\"XXXXXXX\",onChange:e=>setStepPrice(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Note\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Note\",placeholder:\"Note\",onChange:e=>setNote(e.target.value)})]})]})},{title:\"Preview\",content:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fishName\",value:name,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Shape\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishShape\",value:shape,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishAge\",disabled:true,value:age})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish Weight\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishWeight\",disabled:true,value:weight})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fond Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FondArrdess\",value:pondAddress,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Fish City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"FishCity\",value:city,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 gender-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender\",children:\"Gender:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",checked:gender.value===2,disabled:true,className:\"gender-option\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Female\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-select\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"gender\",checked:gender.value===1,disabled:true,className:\"gender-option\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Male\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldInput\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",children:image[0]?/*#__PURE__*/_jsx(\"img\",{src:image[0],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",children:image[1]?/*#__PURE__*/_jsx(\"img\",{src:image[1],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",children:image[2]?/*#__PURE__*/_jsx(\"img\",{src:image[2],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgInput\",children:image[3]?/*#__PURE__*/_jsx(\"img\",{src:image[3],className:\"imgKoi\"}):/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\"})})]}),methodDexcription.map((item,index)=>/*#__PURE__*/_jsxs(\"h5\",{style:{display:index===auctionMethod-1?\"block\":\"none\",fontSize:\"24px\"},children:[\"Auction Method: \",item.title,\" \"]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Auction Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"autionDate\",value:date,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:auctionMethod===\"1\"?\"Fixed Price\":\"Min Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"auctionPrice\",value:startPrice,disabled:true}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",style:{display:auctionMethod===\"3\"||auctionMethod===\"4\"?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Max Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"auctionPrice\",placeholder:\"XXXXXXX\",value:maxPrice,disabled:true}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",style:{display:auctionMethod===\"3\"?\"\":\"none\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Increment Step\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"incrementStep\",placeholder:\"XXXXXXX\",value:stepPrice,disabled:true}),/*#__PURE__*/_jsx(\"span\",{className:\"dollar-sign\",children:\"$\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Note\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Note\",value:note,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feeNotice\",children:[\"* The fee for auction: \",fee,\"$\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"checkBox\",onChange:()=>{setBtnReady(!btnReady);}}),/*#__PURE__*/_jsx(\"p\",{children:\"By checking this box, you confirm that the above information is true. Any incorrect information will be your responsibility. In addition, you also accept the auction fee that we provide.\"})]})]})}];//-----next step --------\nconst handleNext=()=>{if(currentStep<steps.length-1){setCurrentStep(currentStep+1);}};const handlePrevious=()=>{if(currentStep>0){setCurrentStep(currentStep-1);}};//----submit----\n// chưa có trả về kết quả\nconst handleSubmit=async()=>{console.log(sessionStorage.getItem(\"token\"));const fishAuction={token:sessionStorage.getItem(\"token\"),fishName:name,shape:shape,size:size,origin:origin,age:age,weight:weight,gender:gender.value,pondAddress:pondAddress,pondCity:city,imagePath:image,note:note,fee:fee,auctionMethod:auctionMethod,minPrice:startPrice,maxPrice:maxPrice,increment:stepPrice,expectedDate:date};try{const response=await handleSubmitRequest(fishAuction);if(response.status===200){navigate(\"/Breeder/HistoryRequest\");}}catch(error){}};//--------\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"request-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-md-offset-3\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"request\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"progressbar\",children:steps.map((step,index)=>/*#__PURE__*/_jsx(\"li\",{className:index<=currentStep?\"active\":\"\",children:step.title},index))}),steps.map((step,index)=>{var _filedsets$index;return/*#__PURE__*/_jsxs(\"fieldset\",{style:{display:index===currentStep?\"block\":\"none\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fs-title\",children:step.title}),/*#__PURE__*/_jsx(\"h3\",{className:\"fs-subtitle\",children:step.subtitle}),(_filedsets$index=filedsets[index])===null||_filedsets$index===void 0?void 0:_filedsets$index.content,/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[index>0&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"previous action-button-previous\",onClick:handlePrevious,children:\"Previous\"}),index<steps.length-1?/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"next action-button\",onClick:handleNext,children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"submit\",className:\"submit action-button\",onClick:handleSubmit,disabled:btnReady,children:\"Submit\"})]})]},index);})]})})})]});};export default Request;","map":{"version":3,"names":["React","useEffect","useState","useRef","getDownloadURL","listAll","ref","uploadBytes","v4","imageDB","handleFeeApi","handleSubmitRequest","useNavigate","Navbar","jsx","_jsx","jsxs","_jsxs","Request","name","setName","shape","setShape","age","setAge","weight","setWeight","size","setSize","origin","setOrigin","pondAddress","setPondAddress","city","setCity","gender","setGender","value","image","setImage","note","setNote","auctionMethod","setAuctionMethod","date","setDate","startPrice","setStartPrice","maxPrice","setMaxPrice","stepPrice","setStepPrice","currentStep","setCurrentStep","fee","setFee","btnReady","setBtnReady","navigate","img","setImg","fileInputRef","handleUpload","file","console","error","imgRef","snapshot","url","prevUrls","current","handleFileChange","e","selectedFile","target","files","handleButtonClick","splice","click","getFee","response","data","log","steps","title","subtitle","methodDexcription","filedsets","content","children","className","type","placeholder","onChange","checked","style","display","onClick","src","map","item","index","disabled","fontSize","handleNext","length","handlePrevious","handleSubmit","sessionStorage","getItem","fishAuction","token","fishName","pondCity","imagePath","minPrice","increment","expectedDate","status","step","_filedsets$index"],"sources":["D:/FU/FA24/SWP/NishikigoiNexus/src/components/breeder/request/Request.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"../request/Request.scss\";\r\nimport { getDownloadURL, listAll, ref, uploadBytes } from \"firebase/storage\";\r\nimport { v4 } from \"uuid\";\r\nimport { imageDB } from \"../../../upload/ConfigUpload\";\r\nimport { handleFeeApi, handleSubmitRequest } from \"../../../axios/UserService\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Navbar from \"../../common/Navbar/Navbar\";\r\n\r\nconst Request = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [shape, setShape] = useState(\"\");\r\n  const [age, setAge] = useState(0);\r\n  const [weight, setWeight] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [origin, setOrigin] = useState(\"\");\r\n  const [pondAddress, setPondAddress] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [gender, setGender] = useState({ value: 0 });\r\n  const [image, setImage] = useState([]);\r\n  const [note, setNote] = useState(\"\");\r\n  const [auctionMethod, setAuctionMethod] = useState(1);\r\n  const [date, setDate] = useState(\"\");\r\n  const [startPrice, setStartPrice] = useState(0);\r\n  const [maxPrice, setMaxPrice] = useState(0);\r\n  const [stepPrice, setStepPrice] = useState(0);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [fee, setFee] = useState(\"\");\r\n  const [btnReady, setBtnReady] = useState(true);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  //----------- upload anh----------\r\n  const [img, setImg] = useState(\"\");\r\n  const fileInputRef = useRef(null);\r\n  const handleUpload = async (file) => {\r\n    if (!file) {\r\n      console.error(\"No file selected for upload.\");\r\n      return;\r\n    }\r\n    try {\r\n      const imgRef = ref(imageDB, `KoiImages/${v4()}`);\r\n      const snapshot = await uploadBytes(imgRef, file);\r\n      const url = await getDownloadURL(snapshot.ref);\r\n      setImage((prevUrls) => [...prevUrls, url]);\r\n    } catch (error) {\r\n      console.error(\"Error uploading file:\", error);\r\n    } finally {\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = null;\r\n      }\r\n    }\r\n  };\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    if (selectedFile) {\r\n      handleUpload(selectedFile);\r\n    }\r\n  };\r\n  const handleButtonClick = (e) => {\r\n    if (image[e]) {\r\n      image.splice(e, 1);\r\n    }\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n  //-----get fee--------\r\n  useEffect(() => {\r\n    const getFee = async () => {\r\n      try {\r\n        const response = await handleFeeApi();\r\n        // console.log(response.data);\r\n        setFee(response.data);\r\n        // console.log(\"done\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getFee();\r\n  }, []);\r\n  //--------\r\n\r\n  const steps = [\r\n    { title: \"Fish Details\", subtitle: \"Enter information about Fish\" },\r\n    { title: \"Auction Method\", subtitle: \"Choose the auction method\" },\r\n    { title: \"Auction Detail\", subtitle: \"Provide auction details\" },\r\n    { title: \"Preview\", subtitle: \"Preview your request\" },\r\n  ];\r\n  const methodDexcription = [\r\n    { title: \"Fixed Price\", subtitle: \"Buyer pays a fixed price\" },\r\n    { title: \"Hidden Auction\", subtitle: \"Buyer pays the hidden price\" },\r\n    { title: \"Public Auction\", subtitle: \"Buyer pays the highest price\" },\r\n    {\r\n      title: \"Descending price auction\",\r\n      subtitle: \"Buyer pays the price\",\r\n    },\r\n  ];\r\n  const filedsets = [\r\n    {\r\n      title: \"Fish Details\",\r\n      content: (\r\n        <fieldset>\r\n          {/* name+shape */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Name</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"fishName\"\r\n                placeholder=\"Fish Name\"\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Shape</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishShape\"\r\n                placeholder=\"Fish Shape\"\r\n                onChange={(e) => setShape(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* age+weight */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Age</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishAge\"\r\n                placeholder=\"Fish Age\"\r\n                onChange={(e) => setAge(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Weight</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishWeight\"\r\n                placeholder=\"Fish Weight\"\r\n                onChange={(e) => setWeight(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* size+origin */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Size</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishSize\"\r\n                placeholder=\"Fish Size\"\r\n                onChange={(e) => setSize(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Origin</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishOrigin\"\r\n                placeholder=\"Fish Origin\"\r\n                onChange={(e) => setOrigin(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* PondAddress+City */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fond Address</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FondArrdess\"\r\n                placeholder=\"Fond Arrdess\"\r\n                onChange={(e) => setPondAddress(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish City</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishCity\"\r\n                placeholder=\"Fish City\"\r\n                onChange={(e) => setCity(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* gender */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 gender-group\">\r\n              <div className=\"gender\">Gender:</div>\r\n              <div className=\"gender-select\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"gender\"\r\n                  value=\"female\"\r\n                  checked={gender.value === 2}\r\n                  className=\"gender-option\"\r\n                  onChange={() => setGender({ value: 2 })}\r\n                />\r\n                <div>Female</div>\r\n              </div>\r\n              <div className=\"gender-select\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"gender\"\r\n                  value=\"male\"\r\n                  checked={gender.value === 1}\r\n                  className=\"gender-option\"\r\n                  onChange={() => setGender({ value: 1 })}\r\n                />\r\n                <div>Male</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6\"></div>\r\n          </div>\r\n          {/* img */}\r\n          <div className=\"fieldInput\">\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              ref={fileInputRef}\r\n              style={{ display: \"none\" }}\r\n            />\r\n            <div className=\"imgInput\" onClick={(e) => handleButtonClick(0)}>\r\n              {image[0] ? (\r\n                <img src={image[0]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\" onClick={(e) => handleButtonClick(1)}>\r\n              {image[1] ? (\r\n                <img src={image[1]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\" onClick={(e) => handleButtonClick(2)}>\r\n              {image[2] ? (\r\n                <img src={image[2]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\" onClick={(e) => handleButtonClick(3)}>\r\n              {image[3] ? (\r\n                <img src={image[3]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Auction Method\",\r\n      content: (\r\n        <fieldset>\r\n          <div className=\"fieldInput\">\r\n            <select\r\n              name=\"auctionMethod\"\r\n              className=\"auctionMethod\"\r\n              onChange={(e) => setAuctionMethod(e.target.value)}\r\n            >\r\n              <option value=\"1\">Fixed Price</option>\r\n              <option value=\"2\">Hidden Auction</option>\r\n              <option value=\"3\">Public Auction</option>\r\n              <option value=\"4\">Descending Auction</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            {methodDexcription.map((item, index) => (\r\n              <h4\r\n                key={index}\r\n                style={{\r\n                  display: index === auctionMethod - 1 ? \"block\" : \"none\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                {item.subtitle}{\" \"}\r\n              </h4>\r\n            ))}\r\n          </div>\r\n        </fieldset>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Auction Detail\",\r\n      content: (\r\n        <fieldset>\r\n          <div className=\"fieldInput\">\r\n            <div className=\"inputBox\">\r\n              <h5>Auction Date</h5>\r\n              <input\r\n                type=\"date\"\r\n                name=\"autionDate\"\r\n                onChange={(e) => setDate(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"fieldInput\">\r\n            <div className=\"inputBox\">\r\n              <h5>{auctionMethod === \"1\" ? \"Fixed Price\" : \"Min Price\"}</h5>\r\n              <div className=\"price\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"auctionPrice\"\r\n                  placeholder=\"XXXXXXX\"\r\n                  onChange={(e) => setStartPrice(e.target.value)}\r\n                  className=\"input-price\"\r\n                />\r\n                <span className=\"dollar-sign\">$</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"fieldInput\"\r\n            style={{\r\n              display:\r\n                auctionMethod === \"3\" || auctionMethod === \"4\" ? \"\" : \"none\",\r\n            }}\r\n          >\r\n            <div className=\"inputBox\">\r\n              <h5>Max Price</h5>\r\n              <div className=\"price\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"auctionPrice\"\r\n                  placeholder=\"XXXXXXX\"\r\n                  onChange={(e) => setMaxPrice(e.target.value)}\r\n                />\r\n                <span className=\"dollar-sign\">$</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"fieldInput\"\r\n            style={{ display: auctionMethod === \"3\" ? \"\" : \"none\" }}\r\n          >\r\n            <div className=\"inputBox\">\r\n              <h5>Increment Step</h5>\r\n              <div className=\"price\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"incrementStep\"\r\n                  placeholder=\"XXXXXXX\"\r\n                  onChange={(e) => setStepPrice(e.target.value)}\r\n                />\r\n                <span className=\"dollar-sign\">$</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* note */}\r\n          <div className=\"inputBox\">\r\n            <h5>Note</h5>\r\n            <input\r\n              type=\"text\"\r\n              name=\"Note\"\r\n              placeholder=\"Note\"\r\n              onChange={(e) => setNote(e.target.value)}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Preview\",\r\n      content: (\r\n        <fieldset>\r\n          {/* name+shape */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Name</h5>\r\n              <input type=\"text\" name=\"fishName\" value={name} disabled={true} />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Shape</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishShape\"\r\n                value={shape}\r\n                disabled={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* age+weight */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Age</h5>\r\n              <input type=\"text\" name=\"FishAge\" disabled={true} value={age} />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish Weight</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FishWeight\"\r\n                disabled={true}\r\n                value={weight}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* PondAddress+City */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fond Address</h5>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FondArrdess\"\r\n                value={pondAddress}\r\n                disabled={true}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-6 inputBox\">\r\n              <h5>Fish City</h5>\r\n              <input type=\"text\" name=\"FishCity\" value={city} disabled={true} />\r\n            </div>\r\n          </div>\r\n          {/* gender */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"col-md-6 gender-group\">\r\n              <div className=\"gender\">Gender:</div>\r\n              <div className=\"gender-select\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"gender\"\r\n                  checked={gender.value === 2}\r\n                  disabled={true}\r\n                  className=\"gender-option\"\r\n                />\r\n                <div>Female</div>\r\n              </div>\r\n              <div className=\"gender-select\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"gender\"\r\n                  checked={gender.value === 1}\r\n                  disabled={true}\r\n                  className=\"gender-option\"\r\n                />\r\n                <div>Male</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6\"></div>\r\n          </div>\r\n          {/* img */}\r\n          <div className=\"fieldInput\">\r\n            <div className=\"imgInput\">\r\n              {image[0] ? (\r\n                <img src={image[0]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\">\r\n              {image[1] ? (\r\n                <img src={image[1]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\">\r\n              {image[2] ? (\r\n                <img src={image[2]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n            <div className=\"imgInput\">\r\n              {image[3] ? (\r\n                <img src={image[3]} className=\"imgKoi\" />\r\n              ) : (\r\n                <div className=\"plus-icon\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* method */}\r\n          {methodDexcription.map((item, index) => (\r\n            <h5\r\n              key={index}\r\n              style={{\r\n                display: index === auctionMethod - 1 ? \"block\" : \"none\",\r\n                fontSize: \"24px\",\r\n              }}\r\n            >\r\n              {\"Auction Method: \"}\r\n              {item.title}{\" \"}\r\n            </h5>\r\n          ))}\r\n          {/* method detail */}\r\n          <div className=\"inputBox\">\r\n            <h5>Auction Date</h5>\r\n            <input type=\"date\" name=\"autionDate\" value={date} disabled={true} />\r\n          </div>\r\n          <div className=\"inputBox\">\r\n            <h5>{auctionMethod === \"1\" ? \"Fixed Price\" : \"Min Price\"}</h5>\r\n            <div className=\"price\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"auctionPrice\"\r\n                value={startPrice}\r\n                disabled={true}\r\n              />\r\n              <span className=\"dollar-sign\">$</span>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"inputBox\"\r\n            style={{\r\n              display:\r\n                auctionMethod === \"3\" || auctionMethod === \"4\" ? \"\" : \"none\",\r\n            }}\r\n          >\r\n            <h5>Max Price</h5>\r\n            <div className=\"price\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"auctionPrice\"\r\n                placeholder=\"XXXXXXX\"\r\n                value={maxPrice}\r\n                disabled={true}\r\n              />\r\n              <span className=\"dollar-sign\">$</span>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"inputBox\"\r\n            style={{ display: auctionMethod === \"3\" ? \"\" : \"none\" }}\r\n          >\r\n            <h5>Increment Step</h5>\r\n            <div className=\"price\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"incrementStep\"\r\n                placeholder=\"XXXXXXX\"\r\n                value={stepPrice}\r\n                disabled={true}\r\n              />\r\n              <span className=\"dollar-sign\">$</span>\r\n            </div>\r\n          </div>\r\n          {/* note */}\r\n          <div className=\"inputBox\">\r\n            <h5>Note</h5>\r\n            <input type=\"text\" name=\"Note\" value={note} disabled={true} />\r\n          </div>\r\n          {/* auction fee */}\r\n          <div className=\"feeNotice\">* The fee for auction: {fee}$</div>\r\n          {/* confirm */}\r\n          <div className=\"confirmBox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"checkBox\"\r\n              onChange={() => {\r\n                setBtnReady(!btnReady);\r\n              }}\r\n            />\r\n            <p>\r\n              By checking this box, you confirm that the above information is\r\n              true. Any incorrect information will be your responsibility. In\r\n              addition, you also accept the auction fee that we provide.\r\n            </p>\r\n          </div>\r\n        </fieldset>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  //-----next step --------\r\n  const handleNext = () => {\r\n    if (currentStep < steps.length - 1) {\r\n      setCurrentStep(currentStep + 1);\r\n    }\r\n  };\r\n  const handlePrevious = () => {\r\n    if (currentStep > 0) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n  //----submit----\r\n  // chưa có trả về kết quả\r\n  const handleSubmit = async () => {\r\n    console.log(sessionStorage.getItem(\"token\"));\r\n\r\n    const fishAuction = {\r\n      token: sessionStorage.getItem(\"token\"),\r\n      fishName: name,\r\n      shape: shape,\r\n      size: size,\r\n      origin: origin,\r\n      age: age,\r\n      weight: weight,\r\n      gender: gender.value,\r\n      pondAddress: pondAddress,\r\n      pondCity: city,\r\n      imagePath: image,\r\n      note: note,\r\n      fee: fee,\r\n      auctionMethod: auctionMethod,\r\n      minPrice: startPrice,\r\n      maxPrice: maxPrice,\r\n      increment: stepPrice,\r\n      expectedDate: date,\r\n    };\r\n    try {\r\n      const response = await handleSubmitRequest(fishAuction);\r\n      if (response.status === 200) {\r\n        navigate(\"/Breeder/HistoryRequest\");\r\n      }\r\n    } catch (error) {}\r\n  };\r\n  //--------\r\n\r\n  return (\r\n    <div className=\"request-form\">\r\n      <div className=\"header\">\r\n        <Navbar></Navbar>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 col-md-offset-3\">\r\n          <form className=\"request\">\r\n            <ul className=\"progressbar\">\r\n              {steps.map((step, index) => (\r\n                <li\r\n                  key={index}\r\n                  className={index <= currentStep ? \"active\" : \"\"}\r\n                >\r\n                  {step.title}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            {steps.map((step, index) => (\r\n              <fieldset\r\n                key={index}\r\n                style={{ display: index === currentStep ? \"block\" : \"none\" }}\r\n              >\r\n                <h2 className=\"fs-title\">{step.title}</h2>\r\n                <h3 className=\"fs-subtitle\">{step.subtitle}</h3>\r\n\r\n                {/* Example field input */}\r\n                {filedsets[index]?.content}\r\n\r\n                <div className=\"action-buttons\">\r\n                  {index > 0 && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"previous action-button-previous\"\r\n                      onClick={handlePrevious}\r\n                    >\r\n                      Previous\r\n                    </button>\r\n                  )}\r\n                  {index < steps.length - 1 ? (\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"next action-button\"\r\n                      onClick={handleNext}\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      type=\"button\"\r\n                      name=\"submit\"\r\n                      className=\"submit action-button\"\r\n                      onClick={handleSubmit}\r\n                      disabled={btnReady}\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </fieldset>\r\n            ))}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}